<!DOCTYPE html>
<html lang="zh-Hans" class="han-la">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>如何构建好的软件 - 流水沉微</title>
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/kitto.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <script src="/js/anchor.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="/js/text-autospace.js"></script>
</head>

<body>
    <div class="content width">
        <div class="top-header">
  <a class="site-title" href="http://shuxiao.wang">
    流水沉微
  </a>

  
  
  <div class="nav-body">
    
    
    <a class="nav-item " href="/posts/">
      
      <span>Posts</span>
    </a>
    
    
    
    <a class="nav-item " href="/cloud/">
      
      <span>Cloud</span>
    </a>
    
    
    
    <a class="nav-item " href="/eureka/">
      
      <span>Eureka!</span>
    </a>
    
    
  </div>
  
</div>

        <div>
            


<div class="Subhead">
    <div class="Subhead-heading">
        <h1>如何构建好的软件</h1>
    </div>
</div>




<article>
    
    <div class="true-content">
        

<h2 id="序言">序言</h2>

<p>软件的特点导致了我们很难用传统的管理方法来构建软件；我们需要用一种不同的、更加有探索性和迭代的方法来提高开发效率</p>

<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>

<tbody>
<tr>
<td align="right">作者</td>
<td align="left">Li Hongyi</td>
</tr>

<tr>
<td align="right">发表日期</td>
<td align="left">2019.08.08</td>
</tr>

<tr>
<td align="right">分类</td>
<td align="left">创新、软件开发</td>
</tr>
</tbody>
</table>

<h2 id="为什么优秀的人也会做出烂软件">为什么优秀的人也会做出烂软件</h2>

<p>烂软件是世界上少有的你不能用钱来解决的问题之一。市值数十亿美元的航空公司的航班搜索App常常是一帮学生的课程设计捣鼓出来的；在横跨世界的出租车公司在共享租赁服务的竞争面前依然有着极其难用的预订App；令人痛苦的企业IT系统往往耗资巨大还需要很多年的时间来构建。不管烂软件的成因是什么，看起来都不像只是缺少资金</p>

<p>令人惊讶的是，烂软件的根源更多的不是特定的工程层面的选择，而是整个开发项目的管理方式，最烂的软件通常是这样开发出来的：</p>

<p>项目负责人怀着要构建某个特定解决方案的愿望开始了整个项目，但是他从头到尾都没有明确得定义过他们到底要解决什么样的问题。他们从需求方那里搜集来一个长长的需求清单，然后清单被原封不动得提交给了一个外包开发团队，并要求外包从头开始开发这个高度碎片化的软件。一旦需求得到满足，所有人都开始庆祝系统运转、该项目完成</p>

<blockquote>
<p>烂软件的根源更多的不是特定的工程层面的选择，而是整个开发项目的管理方式</p>
</blockquote>

<p>然而，尽管该系统满足来预先订好的规格要求，但是真正将软件交付到实际用户手中时经常会发现非常严重的问题。系统用起来很卡，交互令人迷惑，系统中充满了各式各样的小bug导致使用起来就是对耐心的消磨。不幸的是，在这时候外包团队已经消失了，也没有预留出足够的资源来进行必要的修改。当一个新项目上线数年之后，所有关于这些问题的成因的知识都随风飘散，上面的循环就开始了</p>

<p>在不同项目之间，合适的编程语言、系统架构、接口设计都差别极大，但是有些特征会导致传统管理实践一再得失败，却使很小的创业团队只依靠微薄的预算获得巨大的成功：</p>

<ul>
<li>对好软件的重用非常容易；这让你可以快速构建好软件</li>
<li>软件所受到的限制不在于构建软件时投入的资源的多寡，而在于在软件彻底垮掉前该软件可以有多复杂</li>
<li>软件所蕴含的主要价值不是为了构建软件而编写的代码，而是构建软件的开发者所积累下的知识</li>
</ul>

<p>即便理解了上述特征也不能完全保证就一定能得到好的结果，但是它们确实在解释为什么如此多的软件项目都最终产出了一堆垃圾时很有帮助。更进一步，它们会引出一些可以戏剧性得提高成功概率的核心法则：</p>

<ul>
<li>开始的时候尽可能简单</li>
<li>弄清出问题、然后迭代，小步快跑</li>
<li>招聘你招得起的最好的工程师</li>
</ul>

<p>尽管还有很多更细微的因素需要考虑，以上法则会成为你开始构建一个好软件的必要基石</p>

<h2 id="对好软件的重用可以让你快速构建好软件">对好软件的重用可以让你快速构建好软件</h2>

<p>软件非常容易被复制。在原理层面，一行行的代码可以直接被复制粘贴到另外一台电脑。在更广的范围来看，互联网中也充斥着各种各样的教程，教你如何使用早已编写好、在网络上唾手可得的软件模块构建不同的系统。现代软件已经几乎不可能每一行代码都从头写起来，即使是最创新的应用也是使用现有的软件通过组合和修改来得到的结果</p>

<p>最大的可用代码模块来自开源社区。开源软件是指那些代码被自由得发布、可供任何人浏览和使用的软件。许多最大的开源社区贡献者是那些巨大的科技公司。如果你想像Facebook一样使用这个星球上最先进的可伸缩数据库，只需要下载Facebook在2008年开源的Cassandra的代码；如果你想自己尝试一下Google最先进的机器学习，下载它们2015年公开的TensorFlow系统。对开源代码的使用不仅使你的应用开发速度更快，它还使你能接触到比你自己能独自开发的任何软件都要复杂得多的技术。对那些最流行的开源代码来说，它们甚至更加安全，因为有非常多的人在关注着它、为它修复各种漏洞。这也是数字技术有如此快的变化的原因：哪怕是刚入门的工程师也能在行业所能提供的最先进的工具的基础上进行创造</p>

<p>云服务的出现让重用能力得到了更大的发展，仅仅只需要支付一点点订阅费用就可以得到一个特定的系统。需要一个简单的网站？只需要在类似于Squarespace或者Wix之类的建站服务上稍微点击即可；需要一个数据库？在Amazon Web Services或者Microsoft Azure订阅一个虚拟的服务即可。云服务让开发者享受到专业分工的好处：服务供应商会处理掉所有的创建、维护工作，并保证持续开发可靠、高品质的基础服务提供给所有订阅者。这可以让开发者不再浪费时间去解决这些问题，转而专注于交付真正有价值的内容</p>

<p>如果你所有的时间都花在重头构建已经被其他人开发过的软件上的话，你不可能取得任何科技进步。软件工程是用来构建自动化系统的，这其中最首要的之一就是让所有例行公事都自动化。最关键的就是要找到合适的系统来重用，让它们能处理你的独特需求，并在过程中处理好新出现的问题</p>

<blockquote>
<p>软件工程是用来构建自动化系统的，这其中最首要的之一就是让所有例行公事都自动化</p>
</blockquote>

<h2 id="软件受限于复杂性">软件受限于复杂性</h2>

<p>一个软件有多有用通常是受限于它的复杂性而不是在构建它的过程中投入了多少资源</p>

<p>一个有很多功能却依然被用户讨厌的IT系统通常是因为它太复杂了，相反，评分很高的手机App一般都会因为简洁和符合直觉而受到称赞。学习使用软件是很困难的，不合常识的是，软件的新功能实际上对用户来说是更糟糕了，因为它们引入的复杂性开始让软件变得难用。举个例子，在作为Apple的媒体聚合服务工作了近20年后，iTunes今年被拆分成了3个不同的App：music、podcasts和TV shows，因为它里面所承载的功能已经多到一个App难以应付。从可用性的角度来看，软件的极限不在于有多少功能可以实现，而在于哪些功能能被放入一个简单、符合直觉的界面</p>

<p>哪怕忽略掉可用性，工程进步也会慢慢因为一个项目过于复杂而陷入停滞。每一行新引入的代码都困难会跟其他任何一行代码有关联，一个应用的代码库越大，为了添加一个新功能所引入的bug就会越多。到最后，新bug带来的负面影响会吞噬掉新功能带来的价值，我们称之为「技术债」，技术债是专业软件开发中的主要挑战之一，这就可以解释为什么如此多的IT系统会存在很多常年没有修复的已知问题。引入更多的工程师只会增加更多的混乱，他们越快开始工作，代码库就越快因为本身的笨重而倾覆</p>

<blockquote>
<p>构建好软件需要另一种循环和减少复杂性</p>
</blockquote>

<p>在这种情况下，前进的唯一方法是退回一步，重新分析和简化代码库。系统架构需要重新设计，限制意料之外的交互，非必要的功能可以被移除，哪怕它们已经构建完成，也需要引入自动化工具来检查bug和分析写得很糟糕的代码。比尔盖茨曾经曰过：「通过代码的行数来衡量编程工作的好坏就像是通过重量来衡量飞机建造的好坏」。人类的心智只能处理有限数量的复杂性，因此一个软件系统能有多复杂，取决于这份复杂性预算（开发者的心智）能被多有效得运用</p>

<p>构建好软件需要另一种循环和减少复杂性。只要新功能被开发出来，混乱就会自然而然得开始在系统中积累。当这混乱开始导致问题出现的时候，进一步的开发就需要暂停以腾出时间进行清理。这个两步过程是必要的，因为不存在如此理想的工程：它只是满足你的需求而且恰好能处理好所有你遇到的问题。即便只是简单到如Google的搜索栏一般的简单用户界面也在界面之下包含了一个庞大数量的复杂性，这不可能通过一次迭代就完美得到。这其中最具挑战的是管理这个过程，既要让它足够凌乱以得到有意义的开发进展，又不能让它变得复杂到失去控制</p>

<blockquote>
<p>不存在如此理想的工程：它只是满足你的需求而且恰好能处理好所有你遇到的问题</p>
</blockquote>

<h2 id="软件是探明知识-而不止是写代码">软件是探明知识，而不止是写代码</h2>

<p>在软件开发过程中，绝大部分想法都是糟糕的，但这不是任何人的错。这是因为可能的想法实在是太多了以至于任何一个想法都可能没办法正常工作，哪怕它是经过仔细筛选和认真思考之后得到的。为了推动开发过程的前进，你需要从一堆糟糕的想法开始，去其糟粕，培育其中最可能有价值的。Apple，视觉设计的典范，会遍历数百个原型才能得到最终的产品。最终的产品可能会看似很简单，但是其背后会有错综复杂的知识来保证是它而不是其他备选方案被认为更好</p>

<p>这其中的知识哪怕在产品被构建出来之后也依然很重要。如果一个新的团队接手了一个不熟悉的软件的代码，那么这个软件很快就会开始变糟。操作系统会升级，业务需求会变化，需要立即修复的安全问题会被发现，处理这些小问题通常比从头开始构建软件更困难，因为需要了解系统架构和设计原则中暗含的那些知识</p>

<p>简要来说，一个不熟悉的开发团队可以使用一些权宜之计来处理问题。随着时间的流逝，新的bug会随着这些权宜之计的临时本质而不断累计。用户界面因为设计语言的不匹配而变得令人迷惑，整体的系统复杂性也增加了。软件不应该被看作是一个静态的产品，而应该被看作是一个开发团队的集体智慧的鲜活表现</p>

    </div>

    <div class="page-info">
        <div>
            

<div>
    
</div>



<div>
    <a href='/tags/translation' class="tags-url">
        <span class="tags">Translation</span>
    </a>
</div>

<div>
    <a href='/tags/software' class="tags-url">
        <span class="tags">Software</span>
    </a>
</div>



        </div>
        
            
                <div class="publish-date">
                    <span
                        title="Lastmod: 2019-12-21. Published at: 2019-12-21.">
                        21 Dec 2019
                    </span>
                </div>
            
        
    </div>
</article>





        </div>
        <div id="footer" class="pt-2 pb-3 bg-white text-center">
            

  <span class="text-small text-gray">
    

    Powered by the
    <a href="https://github.com/keaising/kitto" class="link-gray-dark">Kitto</a> theme for
    <a href="https://gohugo.io" class="link-gray-dark">Hugo</a>.
  </span>


        </div>
    </div>

    
    <script>
        anchors.add();
    </script>
    <script>
        anchors.options = {
            placement: 'left',
        };
        anchors.add();
        anchors.add(".tag-title-left");
    </script>
    <script src="/js/mathjax.js"></script>
</body>

</html>